{% extends 'admin/layout.html.twig' %}

{% set menu = 'admin_leave_message_manage' %}
{% set script_controller = 'leave-message/index' %}

{% block main %}
  <form  class="form-inline well well-sm" action="{{ path('admin_leave_message_index') }}" method="get" novalidate>
    <div class="form-group">
      <input class="form-control" type="text" id="start-date" name="createdTime_GTE" placeholder="{{'admin.operation_invite.coupon.start_time.placeholer'|trans}}" value="{{ app.request.get('createdTime_GTE') }}">
      <div class="form-group">-</div>
      <input class="form-control" type="text" id="end-date" name="createdTime_LTE" placeholder="{{'admin.operation_invite.coupon.finished_time.placeholer'|trans}}" value="{{ app.request.get('createdTime_LTE') }}">
    </div>
    <button class="btn btn-primary" type="submit">{{'form.btn.search'|trans}}</button>
    <a class="cd-btn  mhs cd-btn-primary" href="{{ path('admin_leave_message_index_export', {createdTime_GTE: app.request.get('createdTime_GTE'), createdTime_LTE: app.request.get('createdTime_LTE')}) }}"><i class="es-icon es-icon-filedownload cd-text-sm"></i> {{ 'form.btn.export'|trans }}</a>
  </form>

  <table id="leave-message-table" class="table table-striped table-hover">
    <thead>
    <tr>
      <th>{{ 'admin.leave_message.table.id'|trans }}</th>
      <th>{{ 'admin.leave_message.table.name'|trans }}</th>
      <th>{{ 'admin.leave_message.table.email'|trans }}</th>
      <th>{{ 'admin.leave_message.table.phone'|trans }}</th>
      <th>{{ 'admin.leave_message.table.content'|trans }}</th>
      <th>{{ 'admin.leave_message.table.created_time'|trans }}</th>
    </tr>
    </thead>
    <tbody>
    {% for leaveMessage in leaveMessages %}
      <tr>

        <td>
          {{ leaveMessage.id }}
        </td>

        <td>
          {{ leaveMessage.name }}
        </td>

        <td>
          {{ leaveMessage.email }}
        </td>

        <td>
          {{ leaveMessage.phone }}
        </td>

        <td>
          {{ leaveMessage.content }}
        </td>

        <td>
          {{ leaveMessage.createdTime|date('Y-m-d H:i:s') }}
        </td>

      </tr>
    {% else %}
      <tr><td class="empty" colspan="6">{{ 'admin.leave_message.table.empty'|trans }}</td></tr>
    {% endfor %}
    </tbody>

  </table>

  {{ admin_macro.paginator(paginator) }}

{% endblock %}