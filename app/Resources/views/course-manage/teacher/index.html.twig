{% extends 'course-manage/layout.html.twig' %}

{% do script(['app/js/course-manage/students/index.js']) %}
{% set course_side_nav = 'students' %}
{% block main_heading_class %}course-main-header{% endblock %}
{% block main_heading %}
  {% include 'course-manage/panel-header/course-publish-header.html.twig' with {code: course_side_nav, btnGroup:1} %}
{% endblock %}

{% block main_body %}
    <div id="student-table-container" role="course-manage-student-index">
      {{ web_macro.flash_messages() }}

      <table class="table table-striped" id="course-student-list">
        <thead>
          <tr>
            <th width="23%">序号</th>
            <th width="17%">名字</th>
            <th width="25%">操作</th>
          </tr>
        </thead>
        <tbody>
          {% for user in teacherIds if user %}
            {# {% set user = users[teacher.userId]|default(null) %} #}
            <tr id="student-{{user.id}}-tr" class="students-item js-students-item">
              <td class="hidden">
                <input value="{{user.id}}" type="checkbox"  autocomplete="off" data-role="batch-item" >
              </td>
              <td class="media media-middle" >
              
                {{ loop.index }}
              </td>
              <td style="vertical-align: middle;">{{ user.nickname }}</td>
              <td style="vertical-align: middle;">
                
                {% if app.user.isAdmin() or setting('course.teacher_manage_student', 0) %}
                  <a class="mrm link-primary js-remove-student" href="javascript:;" data-url="{{path('course_set_manage_course_students_remove', {courseSetId: courseSet.id, courseId: course.id, userId: user.id})}}" data-user="{{'site.default.student'|trans}}">移除</a>
                {% endif %}
                
              </td>
            </tr>
          {% else %}
            <tr class="empty"><td colspan="20">暂时没有教师</td></tr>
          {% endfor %}

        </tbody>
      </table>
      <nav class="text-center">
        {# {{ web_macro.paginator(paginator) }} #}
      </nav>
    </div>
{% endblock %}
