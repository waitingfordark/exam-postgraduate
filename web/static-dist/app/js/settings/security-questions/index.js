webpackJsonp(["app/js/settings/security-questions/index"],{0:function(e,t){e.exports=jQuery},"72ebb29c15450c32283a":function(e,t,n){"use strict";var s=n("f9ff574815af2ac7731d");new(function(e){return e&&e.__esModule?e:{default:e}}(s).default)({element:"#settings-security-questions-form",saveBtn:"#password-save-btn"})},f9ff574815af2ac7731d:function(e,t,n){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),a=n("b334fd7e4c5a19234db2"),r=function(e){return e&&e.__esModule?e:{default:e}}(a),u=function(){function e(t){s(this,e),this.element=t.element,this.saveBtn=t.saveBtn,this.$q1=$("[name=question-1]"),this.$q2=$("[name=question-2]"),this.$q3=$("[name=question-3]"),this.selectOptions=[],this.init()}return i(e,[{key:"init",value:function(){this.validator(),this.initEvent()}},{key:"initEvent",value:function(){var e=this;$(this.element);this.changeOptions(),cd.select({el:".js-cd-select"}).on("beforeChange",function(t,n){if(e.selectOptions.includes(t))throw(0,r.default)("danger",Translator.trans("user.settings.security.security_questions.type_duplicate_hint")),new Error(Translator.trans("user.settings.security.security_questions.type_duplicate_hint"))}).on("change",function(t,n){e.changeOptions()})}},{key:"changeOptions",value:function(){var e=this;this.selectOptions=[],[this.$q1,this.$q2,this.$q3].forEach(function(t){e.selectOptions.push(t.val())})}},{key:"validator",value:function(){var e=this.saveBtn;$(this.element).validate({currentDom:e,ajax:!0,rules:{"answer-1":{required:!0,maxlength:20},"answer-2":{required:!0,maxlength:20},"answer-3":{required:!0,maxlength:20},userLoginPassword:"required"},submitSuccess:function(e){(0,r.default)("success",Translator.trans(e.message)),$(".modal").modal("hide"),window.location.reload()},submitError:function(e){(0,r.default)("danger",Translator.trans(e.responseJSON.message))}})}}]),e}();t.default=u}},["72ebb29c15450c32283a"]);