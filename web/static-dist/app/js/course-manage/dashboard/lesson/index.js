webpackJsonp(["app/js/course-manage/dashboard/lesson/index"],[function(a,r){"use strict";function n(){var a=e(s);s.height(a),t.resize()}function e(a){var r=a.data("lesson-num"),n=30*r;return n<200?200:n}var s=$("#lesson-dashboard-container"),t=echarts.init(document.getElementById("lesson-dashboard-container")),o=s.data("finishedRate"),i=s.data("finishedNum"),l=s.data("learnNum"),d=1;for(var m in i){var u=i[m]+l[m];d<u&&(d=u)}d=d>5?5:d;var c={tooltip:{trigger:"axis",formatter:function(a){var r=s.data("titles"),n=s.data("remarks"),e=n[r.indexOf(a[0].name)];if(!e)return"<div>无数据</div>";for(var t=a[0].name+"："+e+"</br>",i=a[0].dataIndex,l=0;l<a.length;l++){var d=parseInt(a[l].value);d=isNaN(d)?"-":d;var m='<span style="display:inline-block;margin-right:5px;border-radius:10px;width:9px;height:9px;background-color:'+a[l].color+'"></span>'+a[l].seriesName+" : "+d+"</br>";t+=m}var u='<span style="display:inline-block;margin-right:5px;border-radius:10px;width:9px;height:9px;background-color:#c23531"></span>';return t+=u+"完成率 : "+o[i]+"%"},axisPointer:{type:"shadow"}},legend:{data:[Translator.trans("course_manage.lesson_dashboard.task_finished"),Translator.trans("course_manage.lesson_dashboard.task_learning")]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{name:Translator.trans("course_manage.lesson_dashboard.student_num"),type:"value",minInterval:1,splitNumber:d,min:0},yAxis:[{name:Translator.trans("course_manage.lesson_dashboard.task"),type:"category",axisLabel:{margin:15},data:s.data("titles")}],series:[{name:Translator.trans("course_manage.lesson_dashboard.task_finished"),type:"bar",stack:Translator.trans("course_manage.lesson_dashboard.total_amount"),label:{normal:{show:!1,position:"insideRight"}},itemStyle:{normal:{color:"#4CAF50"}},data:i},{name:Translator.trans("course_manage.lesson_dashboard.task_learning"),type:"bar",stack:Translator.trans("course_manage.lesson_dashboard.total_amount"),label:{normal:{show:!1,position:"insideRight",formatter:function(a){return 0==a.value?"":a.value}}},itemStyle:{normal:{color:"#FFC108"}},data:l}]};t.setOption(c),n()}]);