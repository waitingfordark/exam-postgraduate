webpackJsonp(["app/js/default/header/index"],{"37a604d9c0c3ece890dd":function(n,i,e){"use strict";var t=e("809f84ff862e5634fba2");new(function(n){return n&&n.__esModule?n:{default:n}}(t).default)},"809f84ff862e5634fba2":function(n,i,e){"use strict";function t(n){return n&&n.__esModule?n:{default:n}}function o(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function n(n,i){for(var e=0;e<i.length;e++){var t=i[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,t.key,t)}}return function(i,e,t){return e&&n(i.prototype,e),t&&n(i,t),i}}(),c=e("fe53252afd7b6c35cb73"),r=t(c),f=e("5eb223de522186da1dd9"),s=t(f),d=function(){function n(){o(this,n),this.isClicked=!1,this.init()}return a(n,[{key:"init",value:function(){this.initEvent(),this.initNotification(),this.bindEvent()}},{key:"initEvent",value:function(){$("body").on("click",".js-user-nav-dropdown",function(n){n.stopPropagation()});var n=$(".js-switch-pc"),i=$(".js-switch-mobile");n.length&&n.on("click",function(){r.default.set("PCVersion",1),window.location.reload()}),i.length&&i.on("click",function(){r.default.remove("PCVersion"),window.location.reload()})}},{key:"initNotification",value:function(){var n=$(".js-user-inform"),i="block"===n.css("display"),e=$(".js-inform-newNotification");n.length&&i&&this.api("newNotification",e,!0)}},{key:"bindEvent",value:function(){var n=this;$(".js-inform-tab").on("click",function(i){return n.changeTab(i)}),$(".js-user-nav-dropdown").on("click",".js-inform-notification",function(i){return n.toNotification(i)}),$(".js-back").on("click",function(){return n.mobileHistory()})}},{key:"changeTab",value:function(n){var i=$(n.target);this.isClicked=!0,n.preventDefault(),i.tab("show");var e=i.data("type"),t=i.hasClass("active"),o=$(".js-inform-conversation"),a=$(".js-inform-newNotification"),c=$(".tab-pane.active").find(".js-inform-empty").length,r="conversation"===e?o:a,f="conversation"!==e;c||t||this.api(e,r,f),i.addClass("active").siblings().removeClass("active")}},{key:"api",value:function(n,i,e){var t=this,o=this;s.default[n].search({before:function(){o.loadingShow()}}).then(function(n){t.informShow(i,n,e)}).catch(function(n){})}},{key:"informShow",value:function(n,i,e){this.isClicked&&n.empty(),$(".tab-pane.active").find(".js-inform-loading").addClass("hidden"),$(".js-inform-dropdown-body").css("overflow-y","auto"),n.append(i),e&&(n.find(".notification-footer").addClass("hidden"),n.find(".pull-left").addClass("hidden"))}},{key:"loadingShow",value:function(){var n=$(".tab-pane.active").find(".js-inform-loading"),i=cd.loading();n.removeClass("hidden"),$(".js-inform-dropdown-body").css("overflow-y","hidden"),n.html(i)}},{key:"toNotification",value:function(n){var i=$(n.currentTarget);window.location.href=i.data("url")}},{key:"mobileHistory",value:function(){1!==history.length?history.go(-1):location.href="/"}}]),n}();i.default=d}},["37a604d9c0c3ece890dd"]);