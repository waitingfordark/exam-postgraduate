webpackJsonp(["app/js/course-manage-file/index/index"],{0:function(a,t){a.exports=jQuery},"6e356d846d461116e504":function(a,t,e){"use strict";function s(a){return a&&a.__esModule?a:{default:a}}var r=e("b334fd7e4c5a19234db2"),n=s(r),l=e("de585ca0d3c2d0205c51"),i=s(l),o=$("#file-manage-panel");new i.default(o),o.on("click",".convert-file-btn",function(){$.post($(this).data("url"),function(a){"error"==a.status?alert(a.message):window.location.reload()},"json").fail(function(){alert(Translator.trans("alert.file_convert_error.message"))})}),$(".tip").tooltip(),$("#modal").modal({backdrop:"static",keyboard:!1,show:!1}),$("button",".panel-heading").on("click",function(){var a=$(this).data("url");$("#modal").html(""),$("#modal").modal("show"),$.get(a,function(a){$("#modal").html(a)})}),$("[rel='tooltip']").tooltip(),function(){var a=new Array;$("tbody [type=checkbox]").each(function(){isNaN($(this).val())||a.push($(this).val())}),0!=a.length&&$.post($("#file-manage-panel").data("fileStatusUrl"),{ids:a.join(",")},function(a){if(a&&0!=a.length)for(var t=0;t<a.length;t++){var e=a[t];$.inArray(e.type,["video","ppt","document"])>-1&&"cloud"==e.storage&&("waiting"==e.convertStatus||"doing"==e.convertStatus?$("#upload-file-tr-"+e.id).find("a:first ~ br:first").after("<span class='color-warning mr5 text-sm'>"+Translator.trans("page.file_converting.message")+"</span><br/>"):"error"==e.convertStatus?$("#upload-file-tr-"+e.id).find("a:first ~ br:first").after("<span class='color-danger mr5 text-sm'>"+Translator.trans("page.file_convert_failed.message")+"</span><br/>"):"none"==e.convertStatus?$("#upload-file-tr-"+e.id).find("a:first ~ br:last").after("<span class='label label-default mr5 tip'>"+Translator.trans("page.file_not_convert.message")+"</span>"):"success"==e.convertStatus&&$("#upload-file-tr-"+e.id).find("a:first ~ br:last").after("<span class='label label-success mr5 tip'>"+Translator.trans("page.file_converted.message")+"</span>")),"video"==e.type&&e.metas2&&(e.metas2.shd?$("#upload-file-tr-"+e.id).find("a:first ~ br:first").after('<span class="label label-info mr5 tip">'+Translator.trans("page.video_shd.message")+"</span>"):e.metas2.hd?$("#upload-file-tr-"+e.id).find("a:first ~ br:first").after('<span class="label label-info mr5 tip">'+Translator.trans("page.video_hd.message")+"</span>"):e.metas2.sd&&$("#upload-file-tr-"+e.id).find("a:first ~ br:first").after('<span class="label label-info mr5 tip">'+Translator.trans("page.video_sd.message")+"</span>"))}})}(),$("[data-role=batch-delete]").click(function(){var a=!1,t=[];if($("[data-role=batch-item]").each(function(){$(this).is(":checked")&&(a=!0,t.push(this.value))}),!a)return void(0,n.default)("danger",Translator.trans("notify.file_not_select.message"));$("#modal").html(""),$("#modal").load($(this).data("url"),{ids:t}),$("#modal").modal("show")})}},["6e356d846d461116e504"]);